<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>MPWAR Provincias - Home</title>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/assets/css/custom.css"/>


</head>
<body class="intro">




    <div class="container">
        <!-- Navigation -->
        <!-- Static navbar -->
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                            aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/">Inicio</a></li>
                        <li class="active"><a href="/calculadora-provincia">Calculador de provincia</a></li>

                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="search-nav">
                            <form action="" class="search-form">
                                <div class="form-group has-feedback">
                                    <label for="search" class="sr-only">Search</label>
                                    <input type="text" class="form-control" name="search" id="search"
                                           placeholder="Provincia">
                                    <span class="glyphicon glyphicon-search form-control-feedback"></span>
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
            <!--/.container-fluid -->
        </nav>
        <div class="row">
            <div class="col-lg-12">
                <h1>Calculadora de provincias</h1>

                <p>Introduzca el codigo postal que desea buscar </p>

                <form class="form-inline" id="cpForm">

                    <div class="form-group">
                        <label for="codigoPostal">Código postal</label>
                        <input type="text" class="form-control" id="codigoPostal">
                    </div>
                    <button type="submit" class="btn btn-default" id="cpButton">Buscar</button>
                </form>

            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">

                {% if provincia is defined %}
                 <h1>{{ provincia.cPostal }} => {{ provincia.provincia }}</h1>
                {% endif %}
            </div>
        </div>



    </div>


    <script type="text/javascript" src="/assets/js/jquery.js"></script>

    <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
    <script>
        $("#cpForm").on("submit",function(e) {

            var postalCode = $("#codigoPostal").val();
            console.log( document.location.hostname+'/calculadora-provincia/'+postalCode);
            window.location.replace("http://"+document.location.hostname+'/calculadora-provincia/'+postalCode);
            e.preventDefault();
        });
        var inputNumber = document.getElementById('codigoPostal');
        inputNumber.setAttribute("onkeypress", "return isNumberKey(event)");
        //Comprueba la tecla pulsada y solo permite introducir números en el campo
        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode > 31
                    && (charCode < 48 || charCode > 57)){
                return false;
            }
            return true;
        }
    </script>


</body>
</html> 